Public Transport Deprivation Analysis (Greater Manchester)This project implements a reproducible workflow in R to analyze the relationship between public transport accessibility and socio-economic deprivation. It integrates detailed GTFS (General Transit Feed Specification) network analysis with established deprivation metrics (IMD 2019) to identify and analyze "transit deserts" within Greater Manchester, UK.ðŸš€ Getting StartedTo run this analysis, you will need a clean R environment and the necessary raw data files.1. Prerequisites (R Packages)You can install all required packages by running the following command in your R console:install.packages(c("sf", "tidyverse", "tidytransit", "janitor", "tmap", "lubridate", "gtfsrouter", "lwgeom", "corrplot", "knitr", "kableExtra", "here", "ggplot2", "units"), dependencies = TRUE)
2. Project Setup & DataThis project uses relative file paths based on the here package. You must open the project via the .Rproj file to ensure all file paths resolve correctly.ðŸ“‚ Repository StructureFolderStatusPurposeraw_data/REQUIREDMust contain all external data (see table below).data_processed/Ignored by GitStores intermediate files (.rds) generated by the scripts.outputs/Ignored by GitStores final maps (.png), tables (.csv), and the final report (.md).ðŸ’¾ Required Raw DataFile NameDescriptionSourceCompanion Filesgtfsmanchester2019oct16.zipGTFS data for public transport network.External source (e.g., TfGM)None (ZIP file)GMAL_grid_open.shpGreater Manchester Access Level (GMAL) scores.External source (e.g., data.gov.uk).dbf, .shx, .prj, etc. (Essential for shapefile functionality)IMDMANCHESTER.shpIMD (Index of Multiple Deprivation) scores and LSOA boundaries.External source (e.g., CDRC).dbf, .shx, .prj, etc. (Essential for shapefile functionality)3. ExecutionRun the R scripts sequentially in the following order. You must source 00_config.R before running any other script.source("01_data_import_and_cleaning.R")
source("02_gmal_processing_and_mapping.R")
source("03_gtfs_case_study_setup.R")
source("04_correlation_analysis.R")
source("05_gtfs_network_analysis.R")
source("06_imd_scenario_testing.R")
source("07_validation_and_reporting.R")
Workflow Breakdown (The 7 Stages)The analysis is structured into seven R scripts. They must be executed in order, as each script depends on data generated by the previous one.ScriptTitleFunctionKey Outputs00_config.RConfigurationSets global variables, file paths, and the project's Coordinate Reference System (EPSG:27700).Configuration constants.01_data_import_and_cleaning.RImport and CleaningLoads raw data, standardizes CRSs, cleans column names, and saves initial processed data.imd_lsoa.rds, gmal_sf.rds, gtfs_stops_sf.rds02_gmal_processing_and_mapping.RGMAL & Transit DesertAggregates GMAL score to LSOA level, calculates Transit Demand Index, and computes the initial Transit Desert Score (Demand - GMAL Access).imd_lsoa.rds (updated), Initial maps.03_gtfs_case_study_setup.RCase Study SelectionDynamically selects 10 representative case study LSOAs (e.g., Mismatch, Extreme). Prepares spatial buffers and extracts GTFS stops.case_study_lsoas.rds, Individual case maps.04_correlation_analysis.RCorrelation AnalysisPerforms statistical and visual correlation analysis between deprivation and GMAL access.Scatter plot, Bivariate map and legend.05_gtfs_network_analysis.RGTFS AccessibilityCalculates a new, detailed GTFS-based Accessibility Index for the case studies (e.g., density, frequency, diversity).gtfs_accessibility_results.rds06_imd_scenario_testing.RIMD Scenario TestingIntegrates the new GTFS Accessibility Index into the IMD framework using Exponential Transformation. Calculates rank changes across weighting scenarios.imd_integration_results.rds, Rank change plots.07_validation_and_reporting.RValidation and ReportingPerforms sensitivity analysis, validates the methodology, and generates all final maps, summary tables, and the comprehensive report (analysis_report.md).analysis_report.md, Final maps and summary tables.ðŸ’¡ Important NotesDynamic Case Studies: The 10 case studies are selected based on data criteria in 03_gtfs_case_study_setup.R, making the workflow robust against changes in underlying data.IMD Methodology: The final IMD analysis uses the Exponential Transformation technique, as mandated by official IMD calculations, to ensure methodological validity.Spatial Projection: All spatial files are projected to the British National Grid (EPSG:27700).